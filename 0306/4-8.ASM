; Generated by holtek-gcc v3.18, Tue Mar 13 11:44:26 2018
; 
; Configuration:
;       with long instruction
;       Multi-ROM, Multi-RAM
;       bits_per_rom_unit:16
;       with mp1
;       with tbhp, address(0x9)
;          Use tabrd-const
;       
; SFR address of long-instruction arch:
;    mp0 = -1,1,0
;    mp1 = 4,3,2
;    mp2 = 14,13,12
;    tbp = 9,7,8
;    acc = 5
;    pcl = 6
;    status = 10
;    bp = 11
;    intc = 48
;       
;       
; use 'tabrdc' instead of 'tabrd'
;       

#pragma translator "holtek-gcc 4.6.4" "3.18" "build 20130711"
; Rebuild 126

ir equ [2]
mp equ [3]
sbp equ [4]
acc equ [5]
bp equ [11]
tblp equ [7]
tbhp equ [9]
status equ [10]
c equ [10].0
ac equ [10].1
z equ [10].2
ov equ [10].3
cz equ [10].6
sc equ [10].7
intc equ [48]

extern ra:byte
extern rb:byte
extern rc:byte
extern rd:byte
extern re:byte
extern rf:byte
extern rg:byte
extern rh:byte
extern _Crom2Prom:near
extern _Crom2PromNext:near

RAMBANK 0 @BITDATASEC, @BITDATASEC1
@HCCINIT	.section 'data'
@HCCINIT0	.section 'data'
@BITDATASEC	 .section 'data'
@BITDATASEC1	 .section 'data'

#pragma debug scope 1 1
	extern __DELAY3:near
	extern __DELAYX3:near
	extern __DELAYX6:near
	extern __DELAYY5:near
	extern __DELAYY3:near
	extern _builtin_holtek_delay_2:byte
public _PAUSE
#pragma debug scope 2 1
#line 47 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c"
_PAUSE .section 'code'
_PAUSE proc
    local _PAUSE_2 db 1 dup(?)	; 0,1
	mov _PAUSE_2[0],a
#pragma debug variable 8 2 _PAUSE_2+0 "i"
#line 48 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c"
	clr ra
	jmp _L2
_L3:
#line 48 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c"
;# 48 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c" 1
	IF 20>263690
;# 48 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c" 1
	ERRMESSAGE 'the value 20of the argument exceeds the maxinum 263690'
	ENDIF
;# 48 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c" 1
	IF 20<0
;# 48 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c" 1
	ERRMESSAGE 'the value 20 of the argument exceeds the mininum 0'
	ENDIF
;# 48 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c" 1
	IF 20==0
;# 48 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c" 1
	JMP $
	ENDIF
;# 48 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c" 1
	IF (20>=1) AND (20<( 4 + __PBP__ * 2))
;# 48 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c" 1
	NOP
	ENDIF
;# 48 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c" 1
	IF (20>=2) AND (20<( 4 + __PBP__ * 2))
;# 48 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c" 1
	NOP
	ENDIF
;# 48 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c" 1
	IF (20>=3) AND (20<( 4 + __PBP__ * 2))
;# 48 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c" 1
	NOP
	ENDIF
;# 48 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c" 1
	IF (20>=4) AND (20<( 4 + __PBP__ * 2)) AND ( __PBP__ > 0 )
;# 48 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c" 1
	NOP
	ENDIF
;# 48 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c" 1
	IF (20>=5) AND (20<( 4 + __PBP__ * 2)) AND ( __PBP__ > 0 )
;# 48 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c" 1
	NOP
	ENDIF
;# 48 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c" 1
	IF (20>=6) AND (20<( 4 + __PBP__ * 2))  AND ( __PBP__ > 1 )
;# 48 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c" 1
	NOP
	ENDIF
;# 48 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c" 1
	IF (20>=7) AND (20<( 4 + __PBP__ * 2))  AND ( __PBP__ > 1 )
;# 48 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c" 1
	NOP
	ENDIF
;# 48 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c" 1
	IF (20>=8) AND (20<( 4 + __PBP__ * 2))  AND ( __PBP__ > 2 )
;# 48 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c" 1
	NOP
	ENDIF
;# 48 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c" 1
	IF (20==9)  AND ( __PBP__ > 2 )
;# 48 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c" 1
	NOP
	ENDIF
;# 48 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c" 1
	IF (20< ( 8 + __PBP__ * 2)) AND (20>( 3 + __PBP__ * 2))
;# 48 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c" 1
	fcall __DELAY3 + ( 7 + __PBP__ * 2) -20
	ENDIF
;# 48 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c" 1
	IF (20< ( 0404h + __PBP__ * 2)) AND (20>( 7 + __PBP__ * 2))
;# 48 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c" 1
	MOV A,(20-( 4 + __PBP__ * 2))/4
;# 48 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c" 1
	fcall __DELAYX3 + 3 -((20-( 4 + __PBP__ * 2)) MOD 4) 
	ENDIF
;# 48 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c" 1
	IF (20< ( 040bh + __PBP__ * 2)) AND (20> ( 0403h + __PBP__ * 2))
;# 48 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c" 1
	MOV A,0 
;# 48 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c" 1
	fcall __DELAYX6 + ( 040ah + __PBP__ * 2) -20
	ENDIF
;# 48 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c" 1
	IF (20 >= ( 040bh + __PBP__ * 2)) AND ((((20-( 9 + __PBP__ * 2))%0402h)/4+1)>256)
;# 48 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c" 1
	MOV A,(20-( 9 + __PBP__ * 2))/0402h
;# 48 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c" 1
	MOV _builtin_holtek_delay_2,A
;# 48 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c" 1
	MOV A,0
;# 48 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c" 1
	fcall __DELAYY5 +5- (((20-( 9 + __PBP__ * 2))%0402h)%6) 
	ENDIF
;# 48 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c" 1
	IF (20 >= ( 040bh + __PBP__ * 2)) AND ((((20-( 9 + __PBP__ * 2))%0402h)/4+1)<=256)
;# 48 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c" 1
	MOV A,(20-( 9 + __PBP__ * 2))/0402h
;# 48 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c" 1
	MOV _builtin_holtek_delay_2,A
;# 48 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c" 1
	MOV A,((20-( 9 + __PBP__ * 2))%0402h)/4+1
;# 48 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c" 1
	fcall __DELAYY3 +3-(((20-( 9 + __PBP__ * 2))%0402h)%4) 
	ENDIF
	inc ra
_L2:
	mov a,ra
	sub a,_PAUSE_2[0]
	snz z
	jmp _L3
	ret
_PAUSE endp
#line 48 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c"
#pragma debug scope 1 1
___pec equ [35]
___pepu equ [33]
___pe equ [34]
public _ScanKey
#pragma debug scope 3 1
#line 52 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c"
_ScanKey .section 'code'
_ScanKey proc
#line 53 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c"
	mov a,240
	mov [35],a
	mov a,240
	mov [33],a
#line 54 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c"
	mov a,254
	mov [34],a
#line 52 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c"
	clr ra
_L10:
#line 56 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c"
	snz [34].4
	jmp _L6
#line 58 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c"
	sz [34].5
	jmp _L7
#line 57 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c"
	inc ra
	jmp _L6
_L7:
#line 60 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c"
	sz [34].6
	jmp _L8
#line 59 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c"
	mov a,2
	addm a,ra
	jmp _L6
_L8:
#line 62 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c"
	sz [34].7
	jmp _L9
#line 61 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c"
	mov a,3
	addm a,ra
	jmp _L6
_L9:
#line 63 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c"
	mov a,4
	addm a,ra
#line 64 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c"
	mov a,[34]
	addm a,[34]
	set [34].0
#line 55 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c"
	mov a,ra
	sub a,16
	snz z
	jmp _L10
_L6:
#line 67 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c"
	mov a,ra
	ret
_ScanKey endp
#line 67 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c"
#pragma debug scope 1 1
___wdtc equ [62]
___pcc equ [27]
___pc equ [26]
public _main
#pragma debug scope 4 1
#line 29 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c"
IFDEF WITH_DEFAULT_STARTUP
extern _main_initial0:near
extern _main_startup:near
ENDIF

ROMBANK 0 @start
@start .section com_l 'code'
_main_startup1:
@start .section com_e 'code'
	mov a,bank _main
	mov bp,a
	jmp _main

_main .section 'code'
_main proc
    local _main_2 db 3 dup(?)
#pragma debug variable 8 4 _main_2+2 "Key"
#pragma debug variable 10 4 _main_2+0 "j"
#line 31 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c"
	mov a,175
	mov [62],a
#line 32 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c"
	clr [27].4
_L20:
#line 35 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c"
	fcall _ScanKey
	mov _main_2[2],a
	mov a,_main_2[2]
	sub a,16
	sz z
	jmp _L20
	clr _main_2[0]
	clr _main_2[1]
_L19:
#line 37 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c"
	mov a,_main_2[2]
	mov rb,a
	clr rc
	clr c
	rlca rb
	mov rd,a
	rlca rc
	mov re,a
	mov a,low offset _TAB_Duration
	add a,rd
	mov mp,a
	mov a,high offset _TAB_Duration
	adc a,re
	mov sbp,a
	fcall _Crom2Prom
	mov rd,a
	fcall _Crom2PromNext
	mov re,a
	mov a,_main_2[0]
	sub a,rd
	mov a,_main_2[1]
	sbc a,re
	sz c
	jmp _L20
#line 38 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c"
	swapa [26]
	and a,0fh
	mov ra,a
	mov a,1
	xorm a,ra
	mov a,1
	andm a,ra
	swapa ra
	and a,0f0h 
	mov ra,a
	clr [26].4
	mov a,ra
	orm a,[26]
#line 40 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c"
	mov a,low offset _TAB_Pitch
	add a,rb
	mov mp,a
	mov a,high offset _TAB_Pitch
	adc a,rc
	mov sbp,a
	fcall _Crom2Prom
	fcall _PAUSE
#line 37 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c"
	inc _main_2[0]
	sz z
	inc _main_2[1]
	jmp _L19
	jmp $
_main endp

@dummy proc
	call _main
@dummy endp

#line 37 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c"
#pragma debug scope 1 1
public _TAB_Duration
@crom	.section 'crom'
#line 21 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c"
@crom	.section	'crom'
_TAB_Duration:
#pragma debug array 42 12 16 1
#pragma debug variable 42 1 _TAB_Duration "TAB_Duration"
	dc 261
	dc 293
	dc 329
	dc 349
	dc 392
	dc 440
	dc 494
	dc 523
	dc 130
	dc 146
	dc 164
	dc 174
	dc 196
	dc 220
	dc 247
	dc 261
public _TAB_Pitch
#line 12 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c"
@crom	.section	'crom'
_TAB_Pitch:
#pragma debug array 43 8 16 1
#pragma debug variable 43 1 _TAB_Pitch "TAB_Pitch"
	db 95
	db 85
	db 75
	db 71
	db 63
	db 56
	db 50
	db 47
	db 47
	db 42
	db 37
	db 35
	db 31
	db 28
	db 25
	db 23
#pragma debug struct_begin 44 "__pc_bits"
#pragma debug field 21 8 0 1 "__pc0" ;0,1
#pragma debug field 21 8 0 1 "__pc1" ;1,1
#pragma debug field 21 8 0 1 "__pc2" ;2,1
#pragma debug field 21 8 0 1 "__pc3" ;3,1
#pragma debug field 21 8 0 1 "__pc4" ;4,1
#pragma debug field 21 8 0 1 "__pc5" ;5,1
#pragma debug field 21 8 0 1 "__pc6" ;6,1
#pragma debug field 21 8 0 1 "__pc7" ;7,1
#pragma debug struct_end
#pragma debug union_begin 45 ""
#pragma debug field 2 44 "bits"
#pragma debug field 0 8 "byte"
#pragma debug union_end
#pragma debug variable 45 1 ___pc "__pc" 1
#pragma debug struct_begin 46 "__pcc_bits"
#pragma debug field 21 8 0 1 "__pcc0" ;0,1
#pragma debug field 21 8 0 1 "__pcc1" ;1,1
#pragma debug field 21 8 0 1 "__pcc2" ;2,1
#pragma debug field 21 8 0 1 "__pcc3" ;3,1
#pragma debug field 21 8 0 1 "__pcc4" ;4,1
#pragma debug field 21 8 0 1 "__pcc5" ;5,1
#pragma debug field 21 8 0 1 "__pcc6" ;6,1
#pragma debug field 21 8 0 1 "__pcc7" ;7,1
#pragma debug struct_end
#pragma debug union_begin 47 ""
#pragma debug field 2 46 "bits"
#pragma debug field 0 8 "byte"
#pragma debug union_end
#pragma debug variable 47 1 ___pcc "__pcc" 1
#pragma debug struct_begin 48 "__pepu_bits"
#pragma debug field 21 8 0 1 "__pepu0" ;0,1
#pragma debug field 21 8 0 1 "__pepu1" ;1,1
#pragma debug field 21 8 0 1 "__pepu2" ;2,1
#pragma debug field 21 8 0 1 "__pepu3" ;3,1
#pragma debug field 21 8 0 1 "__pepu4" ;4,1
#pragma debug field 21 8 0 1 "__pepu5" ;5,1
#pragma debug field 21 8 0 1 "__pepu6" ;6,1
#pragma debug field 21 8 0 1 "__pepu7" ;7,1
#pragma debug struct_end
#pragma debug union_begin 49 ""
#pragma debug field 2 48 "bits"
#pragma debug field 0 8 "byte"
#pragma debug union_end
#pragma debug variable 49 1 ___pepu "__pepu" 1
#pragma debug struct_begin 50 "__pe_bits"
#pragma debug field 21 8 0 1 "__pe0" ;0,1
#pragma debug field 21 8 0 1 "__pe1" ;1,1
#pragma debug field 21 8 0 1 "__pe2" ;2,1
#pragma debug field 21 8 0 1 "__pe3" ;3,1
#pragma debug field 21 8 0 1 "__pe4" ;4,1
#pragma debug field 21 8 0 1 "__pe5" ;5,1
#pragma debug field 21 8 0 1 "__pe6" ;6,1
#pragma debug field 21 8 0 1 "__pe7" ;7,1
#pragma debug struct_end
#pragma debug union_begin 51 ""
#pragma debug field 2 50 "bits"
#pragma debug field 0 8 "byte"
#pragma debug union_end
#pragma debug variable 51 1 ___pe "__pe" 1
#pragma debug struct_begin 52 "__pec_bits"
#pragma debug field 21 8 0 1 "__pec0" ;0,1
#pragma debug field 21 8 0 1 "__pec1" ;1,1
#pragma debug field 21 8 0 1 "__pec2" ;2,1
#pragma debug field 21 8 0 1 "__pec3" ;3,1
#pragma debug field 21 8 0 1 "__pec4" ;4,1
#pragma debug field 21 8 0 1 "__pec5" ;5,1
#pragma debug field 21 8 0 1 "__pec6" ;6,1
#pragma debug field 21 8 0 1 "__pec7" ;7,1
#pragma debug struct_end
#pragma debug union_begin 53 ""
#pragma debug field 2 52 "bits"
#pragma debug field 0 8 "byte"
#pragma debug union_end
#pragma debug variable 53 1 ___pec "__pec" 1
#pragma debug struct_begin 54 "__wdtc_bits"
#pragma debug field 21 8 0 1 "__ws0" ;0,1
#pragma debug field 21 8 0 1 "__ws1" ;1,1
#pragma debug field 21 8 0 1 "__ws2" ;2,1
#pragma debug field 21 8 0 1 "__we0" ;3,1
#pragma debug field 21 8 0 1 "__we1" ;4,1
#pragma debug field 21 8 0 1 "__we2" ;5,1
#pragma debug field 21 8 0 1 "__we3" ;6,1
#pragma debug field 21 8 0 1 "__we4" ;7,1
#pragma debug struct_end
#pragma debug union_begin 55 ""
#pragma debug field 2 54 "bits"
#pragma debug field 0 8 "byte"
#pragma debug union_end
#pragma debug variable 55 1 ___wdtc "__wdtc" 1
#line 29 "C:\Users\YVTC\Desktop\單晶片微控制器(一)\0313\4-8.c"
@code .section at 0 'code'
	clr bp
	jmp _main_startup1


; 
; Generated by holtek-gcc v3.18, Tue Mar 13 11:44:26 2018
; Rebuild 126
; end of file
